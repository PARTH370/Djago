{% extends "public/index.html" %}
{% load mathfilters %}
{% load widget_tweaks %}
{% load static %}
{% block extrahead %}
{{ form.media}}
{% endblock %}
{% block content %}
<link rel="stylesheet" href="{% static 'public/table.css' %}">
<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/v/bs/dt-1.13.1/datatables.min.css" />
<script type="text/javascript" src="https://cdn.datatables.net/v/bs/dt-1.13.1/datatables.min.js"></script>
<script src="https://cdn.datatables.net/1.10.23/js/jquery.dataTables.min.js" defer></script>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>

<style type="text/css">
	
		.form-style-9{
			max-width: 1000px;
			background: #FAFAFA;
			padding: 30px;
			margin: 50px auto;
			box-shadow: 1px 1px 25px rgba(0, 0, 0, 0.35);
			border-radius: 10px;
			border: 6px solid #305A72;
		}
		.form-style-9 ul{
			padding:0;
			margin:0;
			list-style:none;
		}
		.form-style-9 ul li{
			display: block;
			margin-bottom: 10px;
			min-height: 35px;
		}
		.form-style-9 ul li  .field-style{
			box-sizing: border-box; 
			-webkit-box-sizing: border-box;
			-moz-box-sizing: border-box; 
			padding: 8px;
			outline: none;
			border: 1px solid #B0CFE0;
			-webkit-transition: all 0.30s ease-in-out;
			-moz-transition: all 0.30s ease-in-out;
			-ms-transition: all 0.30s ease-in-out;
			-o-transition: all 0.30s ease-in-out;
		
		}.form-style-9 ul li  .field-style:focus{
			box-shadow: 0 0 5px #B0CFE0;
			border:1px solid #B0CFE0;
		}
		.form-style-9 ul li .field-split{
			width: 49%;
		}
		.form-style-9 ul li .field-full{
			width: 100%;
		}
		.form-style-9 ul li input.align-left{
			float:left;
		}
		.form-style-9 ul li input.align-right{
			float:right;
		}
		.form-style-9 ul li textarea{
			width: 100%;
			height: 100px;
		}
		.form-style-9 ul li input[type="button"], 
		.form-style-9 ul li input[type="submit"] {
			-moz-box-shadow: inset 0px 1px 0px 0px #3985B1;
			-webkit-box-shadow: inset 0px 1px 0px 0px #3985B1;
			box-shadow: inset 0px 1px 0px 0px #3985B1;
			background-color: #216288;
			border: 1px solid #17445E;
			display: inline-block;
			cursor: pointer;
			color: #FFFFFF;
			padding: 8px 18px;
			text-decoration: none;
			font: 12px Arial, Helvetica, sans-serif;
		}
		.form-style-9 ul li input[type="button"]:hover, 
		.form-style-9 ul li input[type="submit"]:hover {
			background: linear-gradient(to bottom, #2D77A2 5%, #337DA8 100%);
			background-color: #28739E;
		}
	
	* {
		box-sizing: border-box;
	  }
	  
	
	 

	  main {
		background-color: #2C3845;
	  }
	  
	  h1 {
		text-align: center;
		font-weight: 300;
	  }
	  
	  table {
		display: block;
	  }
	  
	  tr, td, tbody, tfoot {
		display: block;
	  }
	  
	  thead {
		display: none;
	  }
	  
	  tr {
		padding-bottom: 10px;
	  }
	  
	  td {
		padding: 10px 10px 0;
		text-align: center;
	  }
	  td:before {
		content: attr(data-title);
		color: #7a91aa;
		text-transform: uppercase;
		font-size: 1.4rem;
		padding-right: 10px;
		display: block;
	  }
	  
	  table {
		width: 100%;
	  }
	  
	  th {
		text-align: left;
		font-weight: 700;
	  }
	  
	  thead th {
		background-color: #202932;
		color: #fff;
		border: 1px solid #202932;
	  }
	  
	  tfoot th {
		display: block;
		padding: 10px;
		text-align: center;
		color: #b8c4d2;
	  }
	  
	  .button {
		line-height: 1;
		display: inline-block;
		font-size: 1.2rem;
		text-decoration: none;
		border-radius: 5px;
		color: #fff;
		padding: 8px;
		background-color: #4b908f;
	  }
	  
	  .select {
		padding-bottom: 20px;
		border-bottom: 1px solid #28333f;
	  }
	  .select:before {
		display: none;
	  }
	  
	  .detail {
		background-color: #BD2A4E;
		width: 100%;
		height: 100%;
		padding: 40px 0;
		position: fixed;
		top: 0;
		left: 0;
		overflow: auto;
		-moz-transform: translateX(-100%);
		-ms-transform: translateX(-100%);
		-webkit-transform: translateX(-100%);
		transform: translateX(-100%);
		-moz-transition: -moz-transform 0.3s ease-out;
		-o-transition: -o-transform 0.3s ease-out;
		-webkit-transition: -webkit-transform 0.3s ease-out;
		transition: transform 0.3s ease-out;
	  }
	  .detail.open {
		-moz-transform: translateX(0);
		-ms-transform: translateX(0);
		-webkit-transform: translateX(0);
		transform: translateX(0);
	  }
	  
	  .detail-container {
		margin: 0 auto;
		padding: 40px;
		max-width: 500px;
	  }
	  
	  dl {
		margin: 0;
		padding: 0;
	  }
	  
	  dt {
		font-size: 2.2rem;
		font-weight: 300;
	  }
	  
	  dd {
		margin: 0 0 40px 0;
		font-size: 1.8rem;
		padding-bottom: 5px;
		border-bottom: 1px solid #ac2647;
		box-shadow: 0 1px 0 #c52c51;
	  }
	  
	  .close {
		background: none;
		padding: 18px;
		color: #fff;
		font-weight: 300;
		border: 1px solid rgba(255, 255, 255, 0.4);
		border-radius: 4px;
		line-height: 1;
		font-size: 1.8rem;
		position: fixed;
		right: 40px;
		top: 20px;
		-moz-transition: border 0.3s linear;
		-o-transition: border 0.3s linear;
		-webkit-transition: border 0.3s linear;
		transition: border 0.3s linear;
	  }
	  .close:hover, .close:focus {
		background-color: #a82545;
		border: 1px solid #a82545;
	  }
	  
	  @media (min-width: 460px) {
		td {
		  text-align: left;
		}
		td:before {
		  display: inline-block;
		  text-align: right;
		  width: 140px;
		}
	  
		.select {
		  padding-left: 160px;
		}
	  }
	  @media (min-width: 720px) {
		table {
		  display: table;
		}
	  
		tr {
		  display: table-row;
		}
	  
		td, th {
		  display: table-cell;
		}
	  
		tbody {
		  display: table-row-group;
		}
	  
		thead {
		  display: table-header-group;
		}
	  
		tfoot {
		  display: table-footer-group;
		}
	  
		td {
		  border: 1px solid #28333f;
		}
		td:before {
		  display: none;
		}
	  
		td, th {
		  padding: 10px;
		  color: #f291b4;
		}
	  
		tr:nth-child(2n+2) td {
		  background-color: #242e39;
		}
	  
		tfoot th {
		  display: table-cell;
		}
	  
		.select {
		  padding: 10px;
		}
	  }
	  
</style>

		
	  </main>
	  
</div>

<form class="form-style-9">
	<ul>
		
	<li>
		{% comment %} <input type="text" id="CompaneyName" name="field1" class="field-style field-split align-left" placeholder="Companey Name" /> {% endcomment %}
		{{form.companey_name}}
		{{form.job_Title}}
	
	</li>
	<li>
		{{form.job_type}}
		{{form.job_Category}}
	</li>
	<li>
		{{form.job_skill}}
		{{form.gender}}
	</li>
	<li>
		{{form.email}}
		{{form.salary}}
	</li>
	<li>
		{{form.country}}
		{{form.career_level}}
	</li>
	<li>
		{{form.city}}
		{{form.job_experience}}
	</li>
	<li>
		{{form.degree_level}}
		{{form.state}}
	</li>
	<li>
		
		{{form.remote_work}}
	</li>
	
	<li>
		{{form.form_url}}
	</li>
	<li>
		{{form.mobile_no}}
	</li>
	<li>
		
		{{form.description}}
	</li>
	<li>
		<input type="button" class="btn btn-info btn-sm" value='SUBMIT' onclick="add_industry()"/>
	</li>
	</ul>
	</form>
<table id="tna_datatable" class="table-hover" style="height:10px;width:100%">
	<thead>
		<tr>

			<th class="tbhead vsm c">ID</th>
			
			<th class="tbhead vsm c">companey_name</th>
			<th class="tbhead vsm c">job_Title</th>
			<th class="tbhead vsm c">job_Category</th>
			<th class="tbhead vsm c">job_exp_date</th>
			
			<th class="tbhead vsm c">updated_by_user_id</th>
			<th class="edit">Edit</th>
			<th class="update">Delete</th>

		</tr>
	</thead>
</table>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>
<script>

	document.getElementById('menu').innerHTML='<span class="dashboard">Job Profile</span>'
	document.getElementById('3').className="active"
	{% comment %} document.getElementById('Jobexpirydate').min = new Date(new Date().getTime() - new Date().getTimezoneOffset() * 60000).toISOString().split("T")[0]; {% endcomment %}


    function add_industry(){
		// alert($("#id_share_class_type").val());
		
		
		if($('#id_companey_name').val()){
		// if($("#id_share_class_name").val() && $("#share_class_inception_date").val() && $("#id_share_class_type").val() && $("#id_share_class_cusip").val() && $("#id_share_class_symbol").val() && $("#id_share_class_lot_number").val()){
			
			$.ajax({
			url: "{% url 'add_job_profile' %}",
			data: {
			'companey_name': $('#id_companey_name').val(),
            'job_Title': $('#id_job_Title').val(),
            'job_type': $('#id_job_type').val(),
            'job_Category': $('#id_job_Category').val(),
            'job_skill': $('#id_job_skill').val(),
            'gender': $('#id_gender').val(),
            
            'salary': $('#id_salary').val(),
            'country': $('#id_country').val(),
            'state': $('#id_state').val(),
            'city': $('#id_city').val(),
            'career_level': $('#id_career_level').val(),
            'degree_level': $('#id_degree_level').val(),
            'job_experience': $('#id_job_experience').val(),
            'description': $('#id_description').val(),
            'remote_work': $('#id_remote_work').val(),
            'job_url': $('#id_form_url').val(),
			'mobile_no': $('#id_mobile_no').val(),
			'email': $('#id_email').val(),
		
			},
			dataType: 'json',
			success: function (data) {
			console.log(data)
			if (data.added!=true) {
				
				//$("#id_alert").append(make_alert("info","ShareClass already exists."));
				window.alert("Industry already exists.");
			}
			else{
				
				// $("#id_alert").append(make_alert("success","ShareClass added successfully.!"));
				window.alert("Industry added successfully.!");
				window.location.reload();
			}
			},
			error: function (jqXHR, status, err) {
				
				// $("#id_alert").append(make_alert("danger","Sorry, Something went wrong."));
				window.alert("Sorry, Something went wrong.");
			},
		});			
		}
		else{
			// $("#id_alert").append(make_alert("warning","All fields are mandatory.! "));
			window.alert("Please enter CompaneyName");
		}
	}
	




	$(document).ready(function () {
		var table = $('#tna_datatable').DataTable({
			data: {{ available_industries| safe}},

		scrollY: "375px",
		scrollX: true,
		scrollCollapse: true,
		paging: true,
		lengthMenu: [
		[1500, 1000, 500, 250],
		['1500 rows', '1000 rows', '500 rows', '250 rows']
	]
			
			
		});
		
	});

	function delete_job_profile(val){
		console.log(val)
        bootbox.confirm({
            message: "Are you sure to Delete job profile?",
            buttons: {
                confirm: {
                    label: 'Yes',
                    className: 'btn-success'
                },
                cancel: {
                    label: 'No',
                    className: 'btn-danger'
                }
            },
            callback: function (result) {
                if(result){
                    var dict={}
                    
                    
                    dict['id']=val
                    dict['deleted']=true
               
               
                    dict['csrfmiddlewaretoken'] = "{{ csrf_token }}";
                
                    $.ajax({                       
                        type: 'POST',
                        url: "{% url 'delete_job_profile' %}",
                        data : dict,
                        traditional: true,
                        cache: false,
                            success: function (data) {   
                            if (data.is_taken){
								
                          
                                window.alert("success","Job Deleted successfully!"); 
								window.location.reload()
                            }
                            else {
                             
                                window.alert("fail","Job Deleted successfully!");
                                window.location.reload()
                            }
                            
                        },
                        error: function (jqXHR, status, err) {
                            
                            window.alert("danger","Sorry, Something went wrong.");
                        }
                    });
                }
			}
			});
		}


</script>

    {% endblock %}


<!-- 
	<tbody>
		<tr>
		  <td data-title='Provider Name'>
			Iacob Geaorgescu
		  </td>
		  <td data-title='E-mail'>
			e-mail@test-email.com
		  </td>
		  <td class='select'>
			<a class='button' href='#'>
			  Select
			</a>
		  </td>
		</tr>
		<tr>
		  <td data-title='Provider Name'>
			Julius Neumann
		  </td>
		  <td data-title='E-mail'>
			e-mail@test-email.com
		  </td>
		  <td class='select'>
			<a class='button' href='#'>
			  Select
			</a>
		  </td>
		</tr>
		<tr>
		  <td data-title='Provider Name'>
			Christoph Koller
		  </td>
		  <td data-title='E-mail'>
			e-mail@test-email.com
		  </td>
		  <td class='select'>
			<a class='button' href='#'>
			  Select
			</a>
		  </td>
		</tr>
		<tr>
		  <td data-title='Provider Name'>
			Bram Lemmens
		  </td>
		  <td data-title='E-mail'>
			e-mail@test-email.com
		  </td>
		  <td class='select'>
			<a class='button' href='#'>
			  Select
			</a>
		  </td>
		</tr>
	  </tbody> -->