{% extends "public/index.html" %}
{% load mathfilters %}
{% load widget_tweaks %}
{% load static %}
{% block extrahead %}
{{ form.media}}
{% endblock %}
{% block content %}
<link rel="stylesheet" href="{% static 'public/table.css' %}">
<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/v/bs/dt-1.13.1/datatables.min.css"/>
<script type="text/javascript" src="https://cdn.datatables.net/v/bs/dt-1.13.1/datatables.min.js"></script>
<script src="https://cdn.datatables.net/1.10.23/js/jquery.dataTables.min.js" defer></script>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>



<table id="tna_datatable" class="table-hover"  style="height:10px;width:100%">
	<thead>
		<tr>
			
			<th class="tbhead vsm c">ID</th>
			<th class="tbhead vsm c">job_industry</th>
			<th class="edit">Edit</th>
			<th class="update">Delete</th>
			
		</tr>
	</thead>
</table>

<script>
	
	document.getElementById('menu').innerHTML='<span class="dashboard">Job Industry</span>'
	document.getElementById('2').className="active"
	
    function add_industry(){
		if($('#id_industry_name').val()){

			$.ajax({
			url: "{% url 'add_industry' %}",
			data: {
			'industry_name': $('#id_industry_name').val()
		
			},
			dataType: 'json',
			success: function (data) {
	
			if (data.added!=true) {
				
				window.alert("Industry already exists.");
			}
			else{
				
		
				window.alert("Industry added successfully.!");
				window.location.reload();
			}
			},
			error: function (jqXHR, status, err) {
				
				window.alert("Sorry, Something went wrong.");
			},
		});			
		}
		else{
			
			window.alert("Please enter the Industry");
		}
	}
	
	$(document).ready(function () {
		var table = $('#tna_datatable').DataTable( {
				data:{{available_industries|safe}},
				// <!-- deferRender:    true, -->
				
				scrollY:        "375px",
				scrollX:        true,
				scrollCollapse: true,
				paging:         true,
				lengthMenu: [
					[ 1500, 1000, 500, 250 ],
					[ '1500 rows', '1000 rows', '500 rows', '250 rows' ]
				]
			
			
		});
		
	});
	function edit(data){

		// if($("#id_share_class_name").val() && $("#share_class_inception_date").val() && $("#id_share_class_type").val() && $("#id_share_class_cusip").val() && $("#id_share_class_symbol").val() && $("#id_share_class_lot_number").val()){
			console.log(data)
			
			window.location.replace("{% url 'edit_job_profile' %}?id="+data);
			
			
	}
	
</script>
<style>
	table.dataTable>tbody>tr {
		background-color: rgb(36, 32, 32);
	}
	table.dataTable>tbody>tr {
		background-color: rgb(64 66 81);
	}
	div>a {
		position: relative;
		
		padding: 6px 12px;
		margin-left: -1px;
		line-height: 1.42857143;
		color: #337ab7;
		text-decoration: none;
		
		border: 1px solid #ddd;
	}
	a.paginate_button.current{
		color: black
	}
	span>a {
		position: relative;
		background-color: #337ab7;
		padding: 6px 12px;
		margin-left: -1px;
		line-height: 1.42857143;
		color: #337ab7;
		text-decoration: none;
		
		border: 1px solid #ddd;
	}
	
</style>
    {% endblock %}

